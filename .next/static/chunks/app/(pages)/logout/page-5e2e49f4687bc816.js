(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{7423:function(e,t,r){Promise.resolve().then(r.t.bind(r,9329,23)),Promise.resolve().then(r.t.bind(r,7580,23)),Promise.resolve().then(r.bind(r,5739))},5739:function(e,t,r){"use strict";r.r(t),r.d(t,{LogoutPage:function(){return a}});var o=r(7437),n=r(2265),l=r(1396),s=r.n(l),i=r(7992);let a=e=>{let{settings:t}=e,{postsPage:r,projectsPage:l}=t||{},{logout:a}=(0,i.a)(),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=async()=>{try{await a(),u("Logged out successfully.")}catch(e){h("You are already logged out.")}};e()},[a]);let f="object"==typeof r&&(null==r?void 0:r.slug),g="object"==typeof l&&(null==l?void 0:l.slug);return(0,o.jsx)(n.Fragment,{children:(d||c)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:d||c}),(0,o.jsxs)("p",{children:["What would you like to do next? ",f&&g&&(0,o.jsx)(n.Fragment,{children:"Browse "}),f&&(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(s(),{href:"/".concat(r.slug),children:"all posts"})}),f&&g&&(0,o.jsx)(n.Fragment,{children:" or "}),g&&(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(s(),{href:"/".concat(l.slug),children:"all projects"})})," To log back in, ",(0,o.jsx)(s(),{href:"/login",children:"click here"}),"."]})]})})}},7992:function(e,t,r){"use strict";r.d(t,{H:function(){return s},a:function(){return i}});var o=r(7437),n=r(2265);let l=(0,n.createContext)({}),s=e=>{let{children:t}=e,[r,s]=(0,n.useState)(),[i,a]=(0,n.useState)(),c=(0,n.useCallback)(async e=>{try{let r=await fetch("".concat("http://localhost:3000","/api/users/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,passwordConfirm:e.passwordConfirm})});if(r.ok){var t;let{data:e,errors:o}=await r.json();if(o)throw Error(o[0].message);s(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user),a("loggedIn")}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),u=(0,n.useCallback)(async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/users/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(t.ok){let{user:e,errors:r}=await t.json();if(r)throw Error(r[0].message);return s(e),a("loggedIn"),e}throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),d=(0,n.useCallback)(async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/users/logout"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok)s(null),a("loggedOut");else throw Error("An error occurred while attempting to logout.")}catch(e){throw Error("An error occurred while attempting to logout.")}},[]);(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/users/me"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let{user:t}=await e.json();s(t||null),a(t?"loggedIn":void 0)}else throw Error("An error occurred while fetching your account.")}catch(e){throw s(null),Error("An error occurred while fetching your account.")}};e()},[]);let h=(0,n.useCallback)(async e=>{try{let r=await fetch("".concat("http://localhost:3000","/api/users/forgot-password"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})});if(r.ok){var t;let{data:e,errors:o}=await r.json();if(o)throw Error(o[0].message);s(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),f=(0,n.useCallback)(async e=>{try{let o=await fetch("".concat("http://localhost:3000","/api/users/reset-password"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e.password,passwordConfirm:e.passwordConfirm,token:e.token})});if(o.ok){var t,r;let{data:e,errors:n}=await o.json();if(n)throw Error(n[0].message);s(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user),a((null==e?void 0:null===(r=e.loginUser)||void 0===r?void 0:r.user)?"loggedIn":void 0)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]);return(0,o.jsx)(l.Provider,{value:{user:r,setUser:s,login:u,logout:d,create:c,resetPassword:f,forgotPassword:h,status:i},children:t})},i=()=>(0,n.useContext)(l)},9329:function(e){e.exports={logout:"logout_logout__psvE6"},e.exports.__checksum="afd5d6642f79"},7580:function(e){e.exports={gutter:"Gutter_gutter__QB0_n",gutterLeft:"Gutter_gutterLeft__9iSai",gutterRight:"Gutter_gutterRight__4jfEx"},e.exports.__checksum="8b7edfbc03b1"},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var o,l={},c=null,u=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!a.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:n,type:e,key:c,ref:u,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(4724)}},function(e){e.O(0,[724,971,864,744],function(){return e(e.s=7423)}),_N_E=e.O()}]);